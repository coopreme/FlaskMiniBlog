# activate venv
- go to FlaskMiniBlog directory
- source venv/bin/activate


# unfreeze pip
requirements.txt


# or using pipenv
git clone
pipenv install -r requirements.txt (if using req.txt)
pipenv shell to activate environment

create .env
  needs 
  SECRET_KEY=value
  MAIL_SERVER=place
  MAIL_PORT=value
  MS_TRANSLATOR_KEY=key
  ELASTICSEARCH_URL=url:port

Setup Elastic Search in Docker if you want to run locally
  - docker run -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:7.12.0
  - index with cmd `flask shell` then in the flask shell `Post.reindex()`
  - this reindex must be done before using the search route

To use in Vagrant or a linux box
  - vagrant up
  - sudo apt-get -y update &  sudo apt-get -y install python3 python3-venv python3-dev
  - sudo apt-get -y install mysql-server postfix supervisor nginx git pipenv
  - git clone the repo
  - cd into repo then `pipenv install`
  - install gunicorn pymysql   to serve as a file server 
  - create the .env file
  - flask translate compile
  - setup mysql
    - mysql -u root -p
  
To use docker:
 - docker build -t miniblog:latest .
 - docker run --name miniblog -d -p 8000:5000 -e SECRET_KEY= -e MAIL_SERVER= -e MAIL_PORT= -e MAIL_USERNAME= -e MAIL_PASSWORD= -e MS_TRANSLATOR= --rm miniblog:latest